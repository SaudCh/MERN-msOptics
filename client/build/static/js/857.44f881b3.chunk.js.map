{"version":3,"file":"static/js/857.44f881b3.chunk.js","mappings":"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","sources":["Components/utils/currencyFormater.js","Components/PayButton.js","Pages/Cart/Cart.jsx"],"sourcesContent":["// format currency in USD\r\nexport const formatCurrency = (price) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n        style: 'currency',\r\n        currency: 'USD',\r\n    }).format(price);\r\n};","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst PayButton = ({ cart, user }) => {\r\n\tconst [loading, setLoading] = React.useState(false);\r\n\tconst handleCheckout = () => {\r\n\t\tconst token = JSON.parse(localStorage.getItem(\"token\"));\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\tAuthorization: `Bearer ${token}`,\r\n\t\t\t},\r\n\t\t};\r\n\t\tsetLoading(true);\r\n\t\tdebugger;\r\n\r\n\t\taxios\r\n\t\t\t.post(\r\n\t\t\t\t`${process.env.REACT_APP_SERVER_URL}/api/orders/checkout-session`,\r\n\t\t\t\t{\r\n\t\t\t\t\tcart,\r\n\t\t\t\t\tuser,\r\n\t\t\t\t},\r\n\t\t\t\tconfig\r\n\t\t\t)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tif (response.data.url) {\r\n\t\t\t\t\twindow.location.href = response.data.url;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err.message));\r\n\t\tsetLoading(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{user?._id && (\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclass=\"btn text-white mt-3 \"\r\n\t\t\t\t\tonClick={() => handleCheckout()}\r\n\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\tstyle={{ backgroundColor: \"#373B3C\" }}\r\n\t\t\t\t>\r\n\t\t\t\t\t{loading && (\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclass=\"spinner-border spinner-border-sm\"\r\n\t\t\t\t\t\t\trole=\"status\"\r\n\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t></span>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\tCheck out\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default PayButton;\r\n","import React, { useContext } from \"react\";\r\nimport { CartContext } from \"../../Components/Context/CartContext\";\r\nimport { AuthContext } from \"../../Components/Context/AuthContext\";\r\nimport {\r\n  DecrementIcon,\r\n  IncrementIcon,\r\n  TrashIcon,\r\n} from \"../../Components/icons\";\r\nimport PayButton from \"../../Components/PayButton\";\r\nimport { formatCurrency } from \"../../Components/utils/currencyFormater\";\r\n\r\nexport default function Cart() {\r\n  document.title = \"Cart\";\r\n  const { cart, removeAll, removeItem, total, IncQuantity, DecQuantity } =\r\n    useContext(CartContext);\r\n  const { user } = useContext(AuthContext);\r\n\r\n  if (cart.length === 0) {\r\n    return (\r\n      <div\r\n        className=\"cart d-flex align-items-center justify-content-center\"\r\n        style={{ minHeight: \"70vh\" }}\r\n      >\r\n        <div className=\"text-center\">\r\n          <h1>Cart</h1>\r\n          <p>There are no items in your cart.</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <section\r\n      className=\"container-fluid mt-3 pt-2 \"\r\n      style={{ minHeight: \"72vh\" }}\r\n    >\r\n      <div className=\"row justify-content-center align-items-center align-items-md-start flex-column-reverse flex-md-row\">\r\n        <div\r\n          className=\"col-11 col-md-9 bg-light border rounded p-2 mt-3 mt-md-0\"\r\n          style={{ minHeight: \"50vh\" }}\r\n        >\r\n          <div className=\"d-flex justify-content-between\">\r\n            <p className=\"h4\">Cart</p>\r\n            <button\r\n              className=\"btn btn-sm text-white\"\r\n              style={{ backgroundColor: \"#373B3C\" }}\r\n              onClick={() => removeAll()}\r\n            >\r\n              Remove All\r\n            </button>\r\n          </div>\r\n          {cart.map((e) => (\r\n            <>\r\n              <div className=\"d-flex justify-content-between align-items-center\">\r\n                <div className=\"d-flex align-items-center\">\r\n                  <figure className=\"rounded overflow-hidden border\">\r\n                    <img\r\n                      src={`${process.env.REACT_APP_SERVER_URL}/img/products/${e.image}`}\r\n                      alt=\"\"\r\n                      width=\"100\"\r\n                      height=\"100\"\r\n                    />\r\n                  </figure>\r\n                  <div className=\"ms-1\">\r\n                    <p className=\"h6 p-0 m-0\">{e.title}</p>\r\n                    <p className=\"p-0 m-0 text-success fw-bold\">\r\n                      {formatCurrency(e.price)}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-center\">\r\n                  <p className=\"p-0 m-0 text-success fw-bold\">\r\n                    {formatCurrency(e.price)}\r\n                  </p>\r\n                  <div className=\"border d-flex rounded overflow-hidden bg-white\">\r\n                    <button\r\n                      className=\"btn px-2 py-1 cart-icon border-end\"\r\n                      onClick={() => DecQuantity(e.id)}\r\n                    >\r\n                      <DecrementIcon />\r\n                    </button>\r\n                    <div>\r\n                      <p className=\"m-0 px-3 py-1\">{e.quantity}</p>\r\n                    </div>\r\n                    <button\r\n                      className=\"btn px-2 py-1 cart-icon border-start\"\r\n                      onClick={() => IncQuantity(e.id)}\r\n                    >\r\n                      <IncrementIcon />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"\">\r\n                  <button\r\n                    className=\"btn btn-danger btn-sm\"\r\n                    onClick={() => removeItem(e.id)}\r\n                  >\r\n                    <TrashIcon />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <hr />\r\n            </>\r\n          ))}\r\n        </div>\r\n        <div className=\"col-11 col-md-2\">\r\n          <div className=\"bg-light border p-2 rounded\">\r\n            <div className=\"d-flex justify-content-between\">\r\n              <p className=\"p-0 m-0\">Subtotal</p>\r\n              <p className=\"p-0 m-0\">{formatCurrency(total)}</p>\r\n            </div>\r\n            <div className=\"d-flex justify-content-between\">\r\n              <p className=\"p-0 m-0\">Delivery Charges</p>\r\n              <p className=\"p-0 m-0\">Total</p>\r\n            </div>\r\n            <hr />\r\n            <div className=\"d-flex justify-content-between\">\r\n              <p className=\"p-0 m-0\">Total</p>\r\n              <p className=\"p-0 m-0\">{formatCurrency(total)}</p>\r\n            </div>\r\n            <div className=\"text-end\">\r\n              <PayButton cart={cart} user={user} />\r\n            </div>\r\n          </div>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <PayButton cart={cart} user={user} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"],"names":["formatCurrency","price","Intl","NumberFormat","style","currency","format","cart","user","React","loading","setLoading","_id","type","class","onClick","token","JSON","parse","localStorage","getItem","config","headers","Authorization","axios","process","then","response","data","url","window","location","href","catch","err","console","log","message","handleCheckout","disabled","backgroundColor","role","Cart","document","title","useContext","CartContext","removeAll","removeItem","total","IncQuantity","DecQuantity","AuthContext","length","className","minHeight","map","e","src","image","alt","width","height","id","quantity"],"sourceRoot":""}