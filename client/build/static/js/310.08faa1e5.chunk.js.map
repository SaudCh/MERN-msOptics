{"version":3,"file":"static/js/310.08faa1e5.chunk.js","mappings":"oIACO,IAAMA,EAAiB,SAACC,GAC3B,OAAO,IAAIC,KAAKC,aAAa,QAAS,CAClCC,MAAO,WACPC,SAAU,QACXC,OAAOL,EACb,C,wKCCc,SAASM,IAAY,IAAD,EACjCC,SAASC,MAAQ,WACjB,IAAQC,GAAuBC,EAAAA,EAAAA,YAAWC,EAAAA,GAAlCF,mBACFG,GAAOF,EAAAA,EAAAA,YAAWG,EAAAA,GACxB,GAAgCC,EAAAA,EAAAA,UAAS,IAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KAiCA,OAzBAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAW,yCAAG,gGACZC,EAAS,CACbC,QAAS,CAAEC,cAAc,UAAD,cAAYT,QAAZ,IAAYA,OAAZ,EAAYA,EAAMU,SAF1B,SAKZC,IAAAA,IAAA,UAECC,wBAFD,0BAEmDZ,EAAKa,KAAKC,GAF7D,gBAGFP,GAEDQ,MAAK,SAAUC,GACdZ,EAAYY,EAASC,KAAKA,KAAKC,SAChC,IACAC,OAAM,SAAUC,GAAQ,IAAD,EAEZ,UAAAA,EAAMJ,SAASC,YAAf,SAAqBI,QAC3BD,EAAMJ,SAASC,KAAKI,QACpBD,EAAMC,OACX,IAlBe,2CAAH,qDAqBjBf,GACD,GAAE,QAACN,QAAD,IAACA,OAAD,EAACA,EAAMU,MAAP,UAAcV,EAAKa,YAAnB,aAAc,EAAWC,KAEJ,IAApBX,EAASmB,QAET,gBACEC,UAAU,6DACVhC,MAAO,CAAEiC,UAAW,QAFtB,UAIE,iBAAKD,UAAU,cAAf,WACE,eAAIA,UAAU,oBAAd,uBACA,eAAIA,UAAU,iBAAd,yCAON,gBAAKA,UAAU,MAAf,SACGpB,EAASsB,KAAI,SAACC,EAAMC,GACnB,IAAQC,EAAYF,EAAZE,QACAhC,EAA6BgC,EAA7BhC,MAAOR,EAAsBwC,EAAtBxC,MAAOyC,EAAeD,EAAfC,OAAQf,EAAOc,EAAPd,GAC9B,OACE,iBAAKS,UAAU,yBAAf,WACE,gBAAKA,UAAU,QAAf,SAAwBI,EAAQ,KAEhC,iBAAKJ,UAAU,0DAAf,WACE,gBACEO,IAAG,UAAKlB,wBAAL,yBAAsDiB,EAAO,IAChEE,MAAM,MACNC,IAAI,MAEN,iBAAKT,UAAU,OAAf,WACE,cAAGA,UAAU,UAAb,SAAwB3B,KACxB,cAAG2B,UAAU,uBAAb,UAAqCpC,EAAAA,EAAAA,GAAeC,YAGxD,iBAAKmC,UAAU,QAAf,WACE,mBACEA,UAAU,6BACVhC,MAAO,CAAE0C,gBAAiB,mBAF5B,0BAMA,mBACEV,UAAU,wBACVW,QAAS,kBA1EI,SAACpB,GAC1BV,EAAYD,EAASgC,QAAO,SAACT,GAAD,OAAUA,EAAKE,QAAQd,KAAOA,CAA9B,KAE5BjB,EAAmBiB,EACpB,CAsE4BsB,CAAmBtB,EAAzB,EAFX,yBASP,KAGN,C","sources":["Components/utils/currencyFormater.js","Pages/Wishlist/Wishlist.jsx"],"sourcesContent":["// format currency in USD\r\nexport const formatCurrency = (price) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n        style: 'currency',\r\n        currency: 'USD',\r\n    }).format(price);\r\n};","import React, { useEffect, useState } from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../../Components/Context/AuthContext\";\r\nimport { WishContext } from \"../../Components/Context/WishlistContext\";\r\nimport axios from \"axios\";\r\nimport { formatCurrency } from \"../../Components/utils/currencyFormater\";\r\n\r\nexport default function Wishlist() {\r\n  document.title = \"Wishlist\";\r\n  const { removeFromWishlist } = useContext(WishContext);\r\n  const auth = useContext(AuthContext);\r\n  const [wishlist, setWishlist] = useState([]);\r\n\r\n  const deleteFromWishlist = (id) => {\r\n    setWishlist(wishlist.filter((item) => item.product.id !== id));\r\n\r\n    removeFromWishlist(id);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getWishlist = async () => {\r\n      const config = {\r\n        headers: { Authorization: `Bearer ${auth?.token}` },\r\n      };\r\n\r\n      await axios\r\n        .get(\r\n          `${process.env.REACT_APP_SERVER_URL}/api/favourite/${auth.user.id}?pop=product`,\r\n          config\r\n        )\r\n        .then(function (response) {\r\n          setWishlist(response.data.data.favourit);\r\n        })\r\n        .catch(function (error) {\r\n          const err = {};\r\n          err.api = error.response.data?.message\r\n            ? error.response.data.message\r\n            : error.message;\r\n        });\r\n    };\r\n\r\n    getWishlist();\r\n  }, [auth?.token, auth.user?.id]);\r\n\r\n  if (wishlist.length === 0) {\r\n    return (\r\n      <div\r\n        className=\"container d-flex align-items-center justify-content-center\"\r\n        style={{ minHeight: \"72vh\" }}\r\n      >\r\n        <div className=\"text-center\">\r\n          <h3 className=\"text-secondary h2\">WishList</h3>\r\n          <h3 className=\"text-secondary\">There is Nothing here</h3>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      {wishlist.map((item, index) => {\r\n        const { product } = item;\r\n        const { title, price, images, id } = product;\r\n        return (\r\n          <div className=\"row align-items-center\">\r\n            <div className=\"col-1\">{index + 1}</div>\r\n\r\n            <div className=\"col-4 d-flex align-items-center flex-column flex-md-row\">\r\n              <img\r\n                src={`${process.env.REACT_APP_SERVER_URL}/img/products/${images[0]}`}\r\n                width=\"100\"\r\n                alt=\"\"\r\n              />\r\n              <div className=\"ms-2\">\r\n                <p className=\"m-0 p-0\">{title}</p>\r\n                <p className=\"m-0 p-0 text-success\">{formatCurrency(price)}</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-7\">\r\n              <button\r\n                className=\"btn me-3 text-white btn-sm\"\r\n                style={{ backgroundColor: \"rgb(55, 59, 60)\" }}\r\n              >\r\n                Add to Cart\r\n              </button>\r\n              <button\r\n                className=\"btn btn-danger btn-sm\"\r\n                onClick={() => deleteFromWishlist(id)}\r\n              >\r\n                Delete\r\n              </button>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["formatCurrency","price","Intl","NumberFormat","style","currency","format","Wishlist","document","title","removeFromWishlist","useContext","WishContext","auth","AuthContext","useState","wishlist","setWishlist","useEffect","getWishlist","config","headers","Authorization","token","axios","process","user","id","then","response","data","favourit","catch","error","message","length","className","minHeight","map","item","index","product","images","src","width","alt","backgroundColor","onClick","filter","deleteFromWishlist"],"sourceRoot":""}